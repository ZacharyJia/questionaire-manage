<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=MNaGcXtTa2nhVWb2mQfx5ebNz6I6gILg"></script>
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
	<title>设置问卷地理位置</title>
</head>
<body>
	<div class="input-group input-group-lg">
		<span class="input-group-addon" id="sizing-addon1">问卷名称</span>
	  <input type="text" class="form-control" id = "name" placeholder="" aria-describedby="sizing-addon1">
	  <span class="input-group-addon" id="sizing-addon1">问卷url</span>
	  <input type="text" class="form-control" id = "url" placeholder="" aria-describedby="sizing-addon1">
		<span class="input-group-addon" id="sizing-addon1">问卷半径（单位：m）</span>
	  <input type="text" class="form-control" id = "distance" placeholder="" aria-describedby="sizing-addon1">
	</div>
	<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom("武汉",14);
	//单击获取点击的经纬度
	map.addEventListener("click",function(e){
		$.post("/manage/setting",
	    {
	        lng:e.point.lng,
	        lat:e.point.lat,
					name:$("#name").val(),
					url:$("#url").val(),
					distance:$("#distance").val()
	    },
		      function(data,status){
		      alert("数据: \n" + data + "\n状态: " + status);
		  });
	});

</script>
